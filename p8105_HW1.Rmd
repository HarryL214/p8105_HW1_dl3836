---
title: "P8105 HW1"
author: "Dianchen Li"
date: "2025-09-16"
output: github_document
---

```{r setup, include=FALSE}
library(moderndive)
library(tidyverse)
```
```{r load-data}
data("early_january_weather")
```

# Problem 1
## Dataset Summary
This analysis uses the `early_january_weather` dataset. It has **`r nrow(early_january_weather)`** rows and **`r ncol(early_january_weather)`** columns.  
Key variables include the time `time_hour`, air temperature `temp` (°F), and humidity `humid`.  
The **average temperature** is **`r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F**.

```{r p1_plot, message=FALSE, warning=FALSE}
p = ggplot(early_january_weather,
           aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  labs(title = "Temperature over time (colored by humidity)",
       x = "Time (hourly)", y = "Temperature (°F)", color = "Humidity") +
  theme_minimal()

p
```

```{r save_plot, message=FALSE, warning=FALSE}
ggsave("p1_scatter.png", plot = p, width = 7, height = 4, dpi = 300)
```

##Brief interpretation
There is a increasing trend with daily oscillations. And also the color shows that the warmer hours are prone to occur with higher humidity. It is not a linear relationship, there are clusters. But, overall, it still shows a poistive relationship between temperature and humidity.



# Problem 2

```{r make_df}
set.seed(1)

df = tibble(
  z    = rnorm(10),                               # numeric
  z_pos = z > 0,                                   # logical
  ch   = sample(letters, 10),                      # character
  fct  = factor(sample(c("A","B","C"), 10, TRUE))  # factor
)

df
```

##Take the mean of each variable

```{r means, message=FALSE, warning=FALSE}
mean_z    = mean(dplyr::pull(df, z))
mean_zpos = mean(dplyr::pull(df, z_pos))      # T & F treat as 1/0

mean_ch   = try(mean(dplyr::pull(df, ch)),  silent = TRUE)
mean_fct  = try(mean(dplyr::pull(df, fct)), silent = TRUE)

list(mean_z = mean_z,
     mean_zpos = mean_zpos,
     mean_ch = mean_ch,     
     mean_fct = mean_fct)   
```

##Show coercion

```{r coerce, results='hide', warning=FALSE}
as.numeric(df$z_pos)  # logical
as.numeric(df$ch)     # character
as.numeric(df$fct)    # factor
```







